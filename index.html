<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SinTax LLC — Creative Music & Media</title>
  <meta name="description" content="SinTax LLC: Music. Art. Theory. Prolonging perception." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>S</text></svg>">
  <style>
    /* ---------- Variables ---------- */
    :root{
      --y:#ffff00; --bg:#000; --mono:'Courier New', monospace;
      --white:#fff; --glass:rgba(0,0,0,.55);
    }

    /* ---------- Base / CRT canvas ---------- */
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--y);
      font-family:var(--mono); overflow:hidden; position:relative;
    }
    /* scanlines + faint glow */
    body::before{
      content:''; position:absolute; inset:0;
      background:repeating-linear-gradient(to bottom,
        rgba(255,255,0,.03) 0, rgba(255,255,0,.05) 2px, transparent 3px);
      pointer-events:none; z-index:1;
    }
    body::after{
      content:''; position:absolute; inset:0;
      background:radial-gradient(circle at center, rgba(255,255,255,.02), transparent 70%);
      animation:flicker .15s infinite; pointer-events:none; z-index:2;
    }
    @keyframes flicker{0%,100%{opacity:1}50%{opacity:.85}}

    /* ---------- Intro / Loader ---------- */
    #loaderSection{min-height:100vh; display:grid; place-items:center; padding:24px; position:relative}
    .col{width:100%; max-width:820px; display:flex; flex-direction:column; align-items:center; z-index:10}
    h1.loading{
      font-size:clamp(32px,6.5vw,88px); margin:24px 0 16px; text-align:center;
      animation:glitch 1.5s infinite, flicker .2s infinite;
      text-shadow:0 0 2px var(--y), 0 0 10px var(--y), 0 0 20px #ff0, 0 0 40px #ff0;
    }
    @keyframes glitch{
      0%{transform:translate(0)} 10%{transform:translate(-2px,-2px)}
      20%{transform:translate(2px,2px)} 30%{transform:translate(-1px,2px)}
      40%{transform:translate(2px,-1px)} 50%{transform:translate(-2px,1px)}
      60%{transform:translate(1px,-2px)} 70%{transform:translate(-2px,-2px)}
      80%{transform:translate(2px,2px)} 90%{transform:translate(1px,-1px)}
      100%{transform:translate(0)}
    }
    .loader-container{
      width:90%; max-width:600px; height:30px; margin-bottom:18px;
      background:rgba(255,255,0,.08); border:2px solid var(--y);
      display:flex; align-items:center; padding:2px; box-shadow:0 0 10px var(--y);
    }
    .loader-block{width:10%; height:100%; background:transparent; border:1px solid var(--y); box-shadow:inset 0 0 5px var(--y); transition:background-color .2s}
    .loader-block.filled{background:var(--y)}

    #asteroidsCanvas{
      display:none; background:transparent; border:2px solid var(--y);
      box-shadow:0 0 15px var(--y); margin-top:16px;
    }
    #scoreDisplay{display:none; font-size:1.05rem; margin-top:8px; text-shadow:0 0 8px var(--y)}
    @media (min-width:601px){ #asteroidsCanvas,#scoreDisplay{display:block} }

    #static-overlay{
      position:fixed; inset:0; pointer-events:none; z-index:5;
      background-image:url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif');
      background-size:cover; mix-blend-mode:screen; opacity:.08;
    }

    /* ENTER (transparent bubble letters) */
    .enter-wrap{margin-top:18px; cursor:pointer; user-select:none; text-align:center}
    .enter-text{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Arial Black',Impact,sans-serif;
      font-weight:900; letter-spacing:.14em; font-size:clamp(36px,7.2vw,120px);
      color:transparent; -webkit-text-stroke:4px var(--y); text-stroke:4px var(--y);
      filter:drop-shadow(0 0 6px rgba(255,255,0,.9)) drop-shadow(0 0 18px rgba(255,255,0,.5));
      animation:pulse 1.6s ease-in-out infinite;
    }
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.04)}}
    .enter-hint{margin-top:6px; font-size:.95rem; opacity:.9; text-shadow:0 0 6px var(--y)}
    .hidden{display:none !important}

    /* ---------- Poster Landing ---------- */
    #main{
      opacity:0; pointer-events:none; transition:opacity 1s ease;
      min-height:100vh; overflow:hidden; color:var(--white); background:transparent;
    }
    /* full-screen background image (file must exist at /landing.jpg) */
    .bg{
      position:fixed; inset:0; z-index:0; pointer-events:none;
      background-image: url('/landing.jpg'), linear-gradient(180deg,#111,#111);
      background-size: cover; background-position: center;
    }
    /* header pills */
    .top-row{
      position:fixed; top:18px; left:18px; right:18px; z-index:1;
      display:flex; justify-content:space-between; align-items:center; gap:12px;
    }
    .pill{
      background:rgba(17,17,17,.75); backdrop-filter: blur(8px);
      color:#f5f7fa; border:1px solid rgba(255,255,255,.12);
      border-radius:12px; padding:10px 16px; font-weight:600; letter-spacing:.02em;
      box-shadow:0 8px 24px rgba(0,0,0,.25);
    }
    .menu{display:inline-grid; grid-template-columns:repeat(3,8px); gap:6px; padding:10px 14px}
    .dot{width:8px; height:8px; background:#e5e7eb; border-radius:2px}

    /* caption */
    .caption{
      position:fixed; left:18px; bottom:20vh; z-index:1;
      max-width:min(70vw,680px);
      background:var(--glass); color:#fff; border-radius:8px;
      border:1px solid rgba(255,255,255,.18);
      padding:8px 12px; font-size:clamp(18px,2.6vw,28px); line-height:1.15;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      opacity:0; transform:translateY(12px); transition:opacity .45s ease, transform .45s ease;
    }
    .caption.show{opacity:1; transform:none}
    @media (max-width:640px){
      .caption{max-width:86vw; bottom:16vh; font-size:clamp(16px,4.8vw,22px)}
    }
  </style>
</head>
<body>

  <!-- ---------- INTRO / LOADER ---------- -->
  <section id="loaderSection">
    <div class="col" role="region" aria-label="CRT Loading Screen">
      <h1 class="loading">LOADING...</h1>
      <div class="loader-container" id="loader"></div>

      <canvas id="asteroidsCanvas" width="600" height="380" aria-hidden="true"></canvas>
      <div id="scoreDisplay">Score: <span id="score">0</span></div>

      <div class="enter-wrap" id="enterWrap" tabindex="0" role="button" aria-label="Enter site">
        <div class="enter-text">ENTER</div>
        <div class="enter-hint">Press Enter ⏎ or click</div>
      </div>
    </div>

    <div id="static-overlay" aria-hidden="true"></div>
    <audio id="music-track" src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Komiku/Its_time_for_adventure_/Komiku_-_07_-_Level_5_-_Boss.mp3" preload="auto" loop></audio>
  </section>

  <!-- ---------- POSTER LANDING ---------- -->
  <main id="main" role="main" aria-label="SinTax landing">
    <div class="bg" aria-hidden="true"></div>

    <div class="top-row">
      <div class="pill" aria-label="brand">SINTAX<sup>®</sup></div>
      <div class="pill menu" aria-label="menu">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
    </div>

    <div id="cap" class="caption">Music. Art. Theory. Prolonging perception.</div>
  </main>

  <script>
    /* -------- Loader blocks -------- */
    const loader = document.getElementById('loader');
    const blockCount=10, mid=Math.floor(blockCount/2), fillSpeed=250;
    let current=0, direction=1;
    const blocks=[];
    for(let i=0;i<blockCount;i++){const b=document.createElement('div'); b.className='loader-block'; loader.appendChild(b); blocks.push(b);}
    function animateLoop(){blocks.forEach((b,i)=>b.classList.toggle('filled', i<=current)); current+=direction; if(current===mid||current===0) direction*=-1;}
    const animTimer=setInterval(animateLoop, fillSpeed);

    /* -------- Mini Asteroids (desktop only) -------- */
    const canvas=document.getElementById('asteroidsCanvas');
    const ctx=canvas.getContext('2d');
    const music=document.getElementById('music-track');
    let ship={x:300,y:190,angle:0}, asteroids=[], keys={}, score=0;

    function spawnAsteroid(){return{x:Math.random()*canvas.width,y:Math.random()*canvas.height,dx:(Math.random()-.5)*2,dy:(Math.random()-.5)*2}}
    for(let i=0;i<5;i++) asteroids.push(spawnAsteroid());
    document.addEventListener('keydown',e=>keys[e.key]=true);
    document.addEventListener('keyup',e=>keys[e.key]=false);

    function drawShip(){ctx.save();ctx.translate(ship.x,ship.y);ctx.rotate(ship.angle);
      ctx.beginPath();ctx.moveTo(10,0);ctx.lineTo(-10,-6);ctx.lineTo(-10,6);ctx.closePath();
      ctx.strokeStyle='yellow';ctx.stroke();ctx.restore();}
    function drawAsteroids(){ctx.strokeStyle='yellow'; asteroids.forEach(a=>{ctx.beginPath();ctx.arc(a.x,a.y,10,0,Math.PI*2);ctx.stroke();});}
    function update(){
      if(keys['ArrowLeft']) ship.angle-=.05;
      if(keys['ArrowRight']) ship.angle+=.05;
      if(keys['ArrowUp']) { ship.x+=Math.cos(ship.angle)*2; ship.y+=Math.sin(ship.angle)*2; }
      asteroids.forEach(a=>{
        a.x+=a.dx; a.y+=a.dy;
        if(a.x<0)a.x=canvas.width; if(a.x>canvas.width)a.x=0;
        if(a.y<0)a.y=canvas.height; if(a.y>canvas.height)a.y=0;
        if(Math.hypot(a.x-ship.x,a.y-ship.y)<15){ score++; a.x=-999; }
      });
      const s=document.getElementById('score'); if(s) s.textContent=score;
    }
    function loop(){ctx.clearRect(0,0,canvas.width,canvas.height); update(); drawShip(); drawAsteroids(); requestAnimationFrame(loop);}
    if(matchMedia('(min-width: 601px)').matches){ music.volume=.18; music.play().catch(()=>{}); loop(); }

    /* -------- ENTER → show landing -------- */
    const enterWrap=document.getElementById('enterWrap');
    function showMain(){
      clearInterval(animTimer);
      try{ music.pause(); music.currentTime=0; }catch(e){}
      document.getElementById('loaderSection').classList.add('hidden');
      const main=document.getElementById('main');
      main.style.opacity=1; main.style.pointerEvents='auto';
      document.body.style.overflow='auto';
      // reveal caption with a subtle fade
      requestAnimationFrame(()=> document.getElementById('cap').classList.add('show'));
    }
    enterWrap.addEventListener('click', showMain);
    enterWrap.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); showMain(); } });
  </script>
</body>
</html>
